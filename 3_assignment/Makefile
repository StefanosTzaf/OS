CC = gcc

CFLAGS = -Wall -I ./include
LDFLAGS = -lrt -pthread


INITIALIZER_OBJS = src/initializer.o src/utils.o
INITIALIZER_EXEC = programs/initializer

VISITOR_OBJS = src/visitor.o src/utils.o
VISITOR_EXEC = programs/visitor

RECEPTION_OBJS = src/receptionist.o src/utils.o
RECEPTION_EXEC = programs/receptionist


MONITOR_OBJS = src/monitor.o src/utils.o
MONITOR_EXEC = programs/monitor

all: $(INITIALIZER_EXEC) $(VISITOR_EXEC) $(RECEPTION_EXEC) $(MONITOR_EXEC)

$(INITIALIZER_EXEC): $(INITIALIZER_OBJS)
	$(CC) $(INITIALIZER_OBJS) -o $(INITIALIZER_EXEC) $(CFLAGS) $(LDFLAGS)

$(VISITOR_EXEC): $(VISITOR_OBJS)
	$(CC) $(VISITOR_OBJS) -o $(VISITOR_EXEC) $(CFLAGS) $(LDFLAGS)

$(RECEPTION_EXEC): $(RECEPTION_OBJS)
	$(CC) $(RECEPTION_OBJS) -o $(RECEPTION_EXEC) $(CFLAGS) $(LDFLAGS)

$(MONITOR_EXEC): $(MONITOR_OBJS)
	$(CC) $(MONITOR_OBJS) -o $(MONITOR_EXEC) $(CFLAGS) $(LDFLAGS)


clean:
	rm -f $(INITIALIZER_OBJS) $(INITIALIZER_EXEC) $(VISITOR_OBJS) $(VISITOR_EXEC) $(RECEPTION_OBJS) $(RECEPTION_EXEC) $(MONITOR_OBJS) $(MONITOR_EXEC)
